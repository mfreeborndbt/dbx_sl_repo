version: 2

models:
  - name: dim_customers
    description: Customer dimension with geographic information (nation and region)
    columns:
      - name: customer_key
        description: Primary key for customers
        tests:
          - unique
          - not_null
      - name: customer_name
        description: Customer name
      - name: nation_name
        description: Nation where customer is located
      - name: region_name
        description: Geographic region
      - name: market_segment
        description: Customer market segment
      - name: account_balance
        description: Customer account balance

semantic_models:
  - name: customers
    description: Customer dimension for semantic layer
    model: ref('dim_customers')
    
    entities:
      - name: customer
        type: primary
        expr: customer_key
      - name: nation
        type: foreign
        expr: nation_key
      - name: region
        type: foreign
        expr: region_key
    
    dimensions:
      - name: customer_name
        type: categorical
      - name: market_segment
        type: categorical
      - name: nation_name
        type: categorical
      - name: region_name
        type: categorical

